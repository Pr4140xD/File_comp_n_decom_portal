{"ast":null,"code":"import React,{useState}from'react';import FileUpload from'./components/FileUpload';import AlgorithmSelect from'./components/AlgorithmSelect';import CompressionStats from'./components/CompressionStats';import AlgorithmInfo from'./components/AlgorithmInfo';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const[file,setFile]=useState(null);const[algorithm,setAlgorithm]=useState('gzip');const[stats,setStats]=useState(null);const[downloadFileName,setDownloadFileName]=useState('');const[mode,setMode]=useState('compress');const[processing,setProcessing]=useState(false);const[error,setError]=useState('');const handleProcess=async()=>{if(!file){alert('Please select a file first');return;}setProcessing(true);setStats(null);setDownloadFileName('');setError('');const formData=new FormData();formData.append('file',file);if(mode==='compress'){formData.append('algorithm',algorithm);}const endpoint=mode==='compress'?'compress':'decompress';try{const response=await fetch(\"http://localhost:5000/api/\".concat(endpoint),{method:'POST',body:formData});const data=await response.json();if(response.ok&&data.success){setStats(data);setDownloadFileName(data.downloadFileName);// <-- Use exactly what backend returns!\n}else{setError(data.error||'Processing failed');}}catch(error){setError(\"Connection failed: \".concat(error.message));}setProcessing(false);};const handleDownload=()=>{if(!downloadFileName)return;window.open(\"http://localhost:5000/api/download?file=\".concat(encodeURIComponent(downloadFileName)),'_blank');setDownloadFileName('');};return/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center mb-4 text-primary\",children:\"\\uD83D\\uDDDC\\uFE0F Data Compression Portal\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-muted mb-4\",children:\"Built-in Node.js Algorithms: GZIP, DEFLATE, BROTLI\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group mb-4 w-100\",role:\"group\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn \".concat(mode==='compress'?'btn-primary':'btn-outline-primary'),onClick:()=>setMode('compress'),disabled:processing,children:\"\\uD83D\\uDCE6 Compress\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn \".concat(mode==='decompress'?'btn-primary':'btn-outline-primary'),onClick:()=>setMode('decompress'),disabled:processing,children:\"\\uD83D\\uDCC2 Decompress\"})]}),mode==='compress'&&/*#__PURE__*/_jsx(AlgorithmSelect,{algorithm:algorithm,setAlgorithm:setAlgorithm}),/*#__PURE__*/_jsx(AlgorithmInfo,{algorithm:mode==='compress'?algorithm:'auto'}),/*#__PURE__*/_jsx(FileUpload,{setFile:setFile,file:file,mode:mode}),/*#__PURE__*/_jsx(\"div\",{className:\"d-grid mb-4\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-warning btn-lg\",onClick:handleProcess,disabled:processing||!file,children:processing?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner-border spinner-border-sm me-2\"}),\"Processing...\"]}):\"\\uD83D\\uDE80 \".concat(mode==='compress'?'Compress':'Decompress',\" File\")})}),stats&&/*#__PURE__*/_jsx(CompressionStats,{stats:stats}),downloadFileName&&/*#__PURE__*/_jsx(\"div\",{className:\"d-grid mb-4\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-success btn-lg\",onClick:handleDownload,children:[\"\\uD83D\\uDCE5 Download \",mode==='compress'?'Compressed':'Decompressed',\" File\"]})})]})})});}export default App;","map":{"version":3,"names":["React","useState","FileUpload","AlgorithmSelect","CompressionStats","AlgorithmInfo","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","file","setFile","algorithm","setAlgorithm","stats","setStats","downloadFileName","setDownloadFileName","mode","setMode","processing","setProcessing","error","setError","handleProcess","alert","formData","FormData","append","endpoint","response","fetch","concat","method","body","data","json","ok","success","message","handleDownload","window","open","encodeURIComponent","className","children","role","onClick","disabled"],"sources":["C:/Users/hp/Downloads/File_comp_n_decom_portal-main/client/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport FileUpload from './components/FileUpload';\nimport AlgorithmSelect from './components/AlgorithmSelect';\nimport CompressionStats from './components/CompressionStats';\nimport AlgorithmInfo from './components/AlgorithmInfo';\n\nfunction App() {\n  const [file, setFile] = useState(null);\n  const [algorithm, setAlgorithm] = useState('gzip');\n  const [stats, setStats] = useState(null);\n  const [downloadFileName, setDownloadFileName] = useState('');\n  const [mode, setMode] = useState('compress');\n  const [processing, setProcessing] = useState(false);\n  const [error, setError] = useState('');\n\n  const handleProcess = async () => {\n    if (!file) {\n      alert('Please select a file first');\n      return;\n    }\n    setProcessing(true);\n    setStats(null);\n    setDownloadFileName('');\n    setError('');\n    const formData = new FormData();\n    formData.append('file', file);\n    if (mode === 'compress') {\n      formData.append('algorithm', algorithm);\n    }\n    const endpoint = mode === 'compress' ? 'compress' : 'decompress';\n    try {\n      const response = await fetch(`http://localhost:5000/api/${endpoint}`, {\n        method: 'POST',\n        body: formData,\n      });\n      const data = await response.json();\n      if (response.ok && data.success) {\n        setStats(data);\n        setDownloadFileName(data.downloadFileName); // <-- Use exactly what backend returns!\n      } else {\n        setError(data.error || 'Processing failed');\n      }\n    } catch (error) {\n      setError(`Connection failed: ${error.message}`);\n    }\n    setProcessing(false);\n  };\n\n  const handleDownload = () => {\n    if (!downloadFileName) return;\n    window.open(`http://localhost:5000/api/download?file=${encodeURIComponent(downloadFileName)}`, '_blank');\n    setDownloadFileName('');\n  };\n\n  return (\n    <div className=\"container mt-5\">\n      <div className=\"row justify-content-center\">\n        <div className=\"col-md-8\">\n          <h1 className=\"text-center mb-4 text-primary\">\n            üóúÔ∏è Data Compression Portal\n          </h1>\n          <p className=\"text-center text-muted mb-4\">\n            Built-in Node.js Algorithms: GZIP, DEFLATE, BROTLI\n          </p>\n          {error && (\n            <div className=\"alert alert-danger\" role=\"alert\">\n              {error}\n            </div>\n          )}\n          <div className=\"btn-group mb-4 w-100\" role=\"group\">\n            <button\n              className={`btn ${mode === 'compress' ? 'btn-primary' : 'btn-outline-primary'}`}\n              onClick={() => setMode('compress')}\n              disabled={processing}\n            >\n              üì¶ Compress\n            </button>\n            <button\n              className={`btn ${mode === 'decompress' ? 'btn-primary' : 'btn-outline-primary'}`}\n              onClick={() => setMode('decompress')}\n              disabled={processing}\n            >\n              üìÇ Decompress\n            </button>\n          </div>\n          {mode === 'compress' && (\n            <AlgorithmSelect algorithm={algorithm} setAlgorithm={setAlgorithm} />\n          )}\n          <AlgorithmInfo algorithm={mode === 'compress' ? algorithm : 'auto'} />\n          <FileUpload setFile={setFile} file={file} mode={mode} />\n          <div className=\"d-grid mb-4\">\n            <button\n              className=\"btn btn-warning btn-lg\"\n              onClick={handleProcess}\n              disabled={processing || !file}\n            >\n              {processing ? (\n                <>\n                  <span className=\"spinner-border spinner-border-sm me-2\" />\n                  Processing...\n                </>\n              ) : (\n                `üöÄ ${mode === 'compress' ? 'Compress' : 'Decompress'} File`\n              )}\n            </button>\n          </div>\n          {stats && <CompressionStats stats={stats} />}\n          {downloadFileName && (\n            <div className=\"d-grid mb-4\">\n              <button\n                className=\"btn btn-success btn-lg\"\n                onClick={handleDownload}\n              >\n                üì• Download {mode === 'compress' ? 'Compressed' : 'Decompressed'} File\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}